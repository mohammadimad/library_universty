<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø§Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯</title>
    <meta name="description" content="Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¥Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØªØ¨Ø©" />

    <!-- Bootstrap RTL CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css"
      rel="stylesheet"
    />

    <!-- Arabic Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        /* Background & Surface Colors */
        --background: hsl(218, 100%, 97%);
        --foreground: hsl(215, 25%, 15%);
        --surface: hsl(0, 0%, 100%);
        --surface-alt: hsl(220, 15%, 96%);

        /* Brand Colors */
        --primary: hsl(215, 90%, 52%);
        --primary-foreground: hsl(0, 0%, 100%);
        --primary-light: hsl(215, 85%, 65%);
        --primary-dark: hsl(215, 95%, 42%);

        /* Secondary Brand */
        --secondary: hsl(195, 85%, 48%);
        --secondary-foreground: hsl(0, 0%, 100%);
        --secondary-light: hsl(195, 80%, 65%);

        /* Accent Colors */
        --accent: hsl(275, 75%, 55%);
        --success: hsl(142, 76%, 45%);
        --warning: hsl(38, 92%, 55%);
        --destructive: hsl(0, 84%, 60%);

        /* Neutral Colors */
        --muted: hsl(220, 15%, 94%);
        --muted-foreground: hsl(215, 16%, 47%);
        --border: hsl(220, 13%, 88%);

        /* Shadows */
        --shadow-soft: 0 2px 8px -2px hsl(215, 25%, 15%, 0.08);
        --shadow-medium: 0 4px 16px -4px hsl(215, 25%, 15%, 0.12);
        --shadow-large: 0 8px 32px -8px hsl(215, 25%, 15%, 0.16);
        --shadow-glow: 0 0 32px hsl(215, 90%, 52%, 0.3);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Cairo", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--background);
        color: var(--foreground);
        line-height: 1.6;
      }

      /* Custom utility classes */
      .gradient-primary {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
      }

      .gradient-secondary {
        background: linear-gradient(135deg, var(--accent), var(--primary));
      }

      .shadow-soft {
        box-shadow: var(--shadow-soft);
      }
      .shadow-medium {
        box-shadow: var(--shadow-medium);
      }
      .shadow-large {
        box-shadow: var(--shadow-large);
      }
      .shadow-glow {
        box-shadow: var(--shadow-glow);
      }

      .transition-smooth {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Navigation */
      .navbar {
        top: 10px;
        right: 10px;
        left: 10px;
        border-radius: 1rem;
        backdrop-filter: blur(10px);
        box-shadow: var(--shadow-large);
      }

      .navbar-brand img {
        border-radius: 50%;
      }

      /* Container */
      .container {
        padding-top: 100px;
      }

      /* Cards */
      .card {
        background-color: var(--surface);
        border: 1px solid var(--border);
        border-radius: 1rem;
        box-shadow: var(--shadow-soft);
        transition: var(--transition-smooth);
      }

      .card:hover {
        box-shadow: var(--shadow-medium);
      }

      .card-header {
        background: var(--surface);
        border-bottom: 1px solid var(--border);
        border-radius: 1rem 1rem 0 0;
        font-weight: 600;
      }

      /* Form Controls */
      .form-control:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(var(--primary-rgb), 0.25);
      }

      .form-select:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(var(--primary-rgb), 0.25);
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border: none;
      }

      .btn-primary:hover {
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--primary)
        );
        transform: translateY(-2px);
        box-shadow: var(--shadow-medium);
      }

      .btn-success {
        background: linear-gradient(135deg, var(--success), hsl(155, 70%, 55%));
        border: none;
      }

      .btn-success:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-medium);
      }

      /* Progress Bar */
      .progress {
        height: 8px;
        border-radius: 1rem;
        background-color: var(--muted);
        overflow: hidden;
      }

      .progress-bar {
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        transition: width 0.4s ease;
      }

      /* Wizard Steps */
      .wizard-step {
        transition: opacity 0.3s ease;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .container {
          padding-top: 120px;
        }
        .navbar {
          position: relative;
          top: 0;
          margin: 10px;
        }
      }

      /* Print styles (for consistency) */
      @media print {
        body * {
          visibility: hidden;
        }
        #wizardForm,
        #wizardForm * {
          visibility: visible;
        }
        #wizardForm {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          padding: 20px;
        }
        .no-print {
          display: none !important;
        }
        .navbar {
          display: none !important;
        }
      }
    </style>
  </head>

  <body>
    <nav
    class="navbar navbar-expand-lg navbar-dark bg-dark py-3 px-4 rounded-3 shadow-lg"
  >
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        <img
          src="./slogan.png"
          alt="Logo"
          class="rounded-circle me-2"
          width="64px"
          height="64px"
        />
        Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØªØ¨ 
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div
        class="collapse navbar-collapse justify-content-center"
        id="navbarNavDropdown"
      >
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="add-book.html">ğŸ“š Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="update-books.html">ğŸ“– Ø¹Ø±Ø¶ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒØªØ¨</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="advanced-search.html">ğŸ” Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="reports.html"
              >ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link active"
              aria-current="page"
              href="delete-books.html"
              >ğŸ—‘ï¸ Ø­Ø°Ù ÙƒØªØ§Ø¨</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <div class="container mt-4">
      <!-- Page Header -->
      <div class="mb-5">
        <h1
          class="display-5 fw-bold text-primary mb-2 d-flex align-items-center gap-3"
        >
          ğŸ“š Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯
        </h1>
        <p class="text-muted fs-5">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©</p>
      </div>

      <!-- Progress Tracker -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>Ø§Ù„Ø®Ø·ÙˆØ© <span id="currentStepNumber">1</span> Ù…Ù† 5</span>
            <span id="stepTitle" class="fw-bold">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</span>
          </div>
          <div class="progress">
            <div
              class="progress-bar"
              role="progressbar"
              id="progressBar"
              style="width: 20%"
            ></div>
          </div>
        </div>
      </div>

      <form
        id="wizardForm"
        method="post"
        onsubmit="return handleFormSubmit(event)"
      >
        <!-- Step 1: Basic Info -->
        <div class="wizard-step" id="step1">
          <div class="card shadow-medium">
            <div class="card-header">
              <h5 class="mb-0">ğŸ“Œ Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„</label>
                  <input
                    type="text"
                    class="form-control"
                    id="classificationCode"
                    value="***"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label"
                    >Ø±Ù…Ø² Ø§Ù„ØªØµÙ†ÙŠÙ <span class="text-danger">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="classificationCode"
                    value="***"
                    required
                  />
                </div>
                <div class="col-md-6">
                <label class="form-label">Ø§Ù„Ù„Ø§Ø­Ù‚Ø©<span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="bookTitle" value="***" required />
              </div>
                <div class="col-md-12">
  <label class="form-label">
    Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨ <span class="text-danger">*</span>
  </label>
  <input
    type="text"
    class="form-control"
    id="bookTitle"
    value="***"
    required
  />
</div>
                <div class="col-12">
                  <label class="form-label">Ø¹Ù†Ø§ÙˆÙŠÙ† ÙØ±Ø¹ÙŠØ©</label>
                  <div id="subTitlesContainer">
                    <div class="input-group mb-2">
                      <input
                        type="text"
                        class="form-control"
                        name="subTitles[]"
                        placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ"
                      />
                      <select class="form-select" name="subTitleType[]">
                        <option value="">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</option>
                        <option value="ÙØ±Ø¹ÙŠ">ÙØ±Ø¹ÙŠ</option>
                        <option value="Ø¨Ø¯ÙŠÙ„">Ø¨Ø¯ÙŠÙ„</option>
                        <option value="Ù…ÙˆØ§Ø²ÙŠ">Ù…ÙˆØ§Ø²ÙŠ</option>
                      </select>
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        onclick="addSubTitle()"
                      >
                        +
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <label class="form-label">Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯</label>
                  <input
                    type="text"
                    class="form-control"
                    id="bookLength"
                    min="0"
                    placeholder="Ø§Ù„Ø·ÙˆÙ„ x Ø§Ù„Ø¹Ø±Ø¶"/>
                </div>
                <div class="col-md-4">
                  <label class="form-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¨Ù„ÙŠÙˆØºØ±Ø§ÙÙŠ</label>
                  <div class="input-group">
                    <select class="form-select" id="bibliographicLevel">
                      <option value="">Ø§Ø®ØªØ±...</option>
                      <option value="ÙƒØªØ§Ø¨">ÙƒØªØ§Ø¨</option>
                      <option value="Ù…Ø±Ø¬Ø¹">Ù…Ø±Ø¬Ø¹</option>
                      <option value="Ù…Ø¬Ù…ÙˆØ¹Ø©">Ù…Ø¬Ù…ÙˆØ¹Ø©</option>
                      <option value="Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù…Ø¹ÙŠØ©">Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù…Ø¹ÙŠØ©</option>
                      <option value="ÙƒØªØ¨ Ø£Ø·ÙØ§Ù„">ÙƒØªØ¨ Ø£Ø·ÙØ§Ù„</option>
                      <option value="Ù‚ØµØ©">Ù‚ØµØ©</option>
                      <option value="Ø¯ÙˆØ±ÙŠØ©">Ø¯ÙˆØ±ÙŠØ©</option>
                      <option value="Ø³Ù…Ø¹ÙŠØ§Øª-Ø¨ØµØ±ÙŠØ§Øª">Ø³Ù…Ø¹ÙŠØ§Øª-Ø¨ØµØ±ÙŠØ§Øª</option>
                    </select>
                    <button
                      class="btn btn-outline-secondary"
                      type="button"
                      onclick="addOption('bibliographicLevel')"
                    >
                      +
                    </button>
                  </div>
                </div>
                <div class="col-md-12">
                <label class="form-label">Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</label>
                <textarea class="form-control" id="explanations" rows="3"></textarea>
              </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ù…Ø³ØªØ®Ù„Øµ</label>
                  <textarea
                    class="form-control"
                    id="bookAbstract"
                    rows="3"
                  ></textarea>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ø¥ÙŠØ¶Ø§Ø­Ø§Øª</label>
                  <textarea
                    class="form-control"
                    id="explanations"
                    rows="3"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2: Authors -->
        <div class="wizard-step" id="step2" style="display: none">
          <div class="card shadow-medium">
            <div class="card-header">
              <h5 class="mb-0">ğŸ‘¤ Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ù…Ø¤Ù„ÙÙˆÙ†</h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-12">
                  <label class="form-label">Ù†ÙˆØ¹ / Ø¯ÙˆØ± Ø§Ù„Ù…Ø¤Ù„Ù</label>
                  <div id="authorsContainer">
                    <div class="input-group mb-2">
                      <select class="form-select" name="authorRole[]">
                        <option value="">Ø§Ø®ØªØ±...</option>
                        <option value="Ø±Ø¦ÙŠØ³ÙŠ">Ø±Ø¦ÙŠØ³ÙŠ</option>
                        <option value="Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø´Ø§Ø±Ùƒ">Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø´Ø§Ø±Ùƒ</option>
                        <option value="Ù…ØªØ±Ø¬Ù…">Ù…ØªØ±Ø¬Ù…</option>
                        <option value="Ù…Ø­Ù‚Ù‚">Ù…Ø­Ù‚Ù‚</option>
                        <option value="Ù…Ø¯Ù‚Ù‚">Ù…Ø¯Ù‚Ù‚</option>
                        <option value="Ù…Ø±Ø§Ø¬Ø¹">Ù…Ø±Ø§Ø¬Ø¹</option>
                        <option value="Ù…Ø­Ø±Ø±">Ù…Ø­Ø±Ø±</option>
                        <option value="Ù…Ø¹Ø¯">Ù…Ø¹Ø¯</option>
                        <option value="Ù…Ù‚Ø¯Ù‘Ù…">Ù…Ù‚Ø¯Ù‘Ù…</option>
                      </select>
                      <input
                        type="text"
                        class="form-control"
                        name="authorName[]"
                        placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ù„Ù"
                      />
                      <select class="form-select" name="authorAttribute[]">
                        <option value="">ØµÙØ© Ø§Ù„Ù…Ø¤Ù„Ù</option>
                        <option value="Ø´Ø®Øµ">Ø´Ø®Øµ</option>
                        <option value="Ù…Ù„ØªÙ‚Ù‰">Ù…Ù„ØªÙ‚Ù‰</option>
                        <option value="Ù‡ÙŠØ¦Ø©">Ù‡ÙŠØ¦Ø©</option>
                        <option value="Ø¹Ù†ÙˆØ§Ù†">Ø¹Ù†ÙˆØ§Ù†</option>
                      </select>
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        onclick="addAuthor()"
                      >
                        +
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Publishers -->
        <div class="wizard-step" id="step3" style="display: none">
          <div class="card shadow-medium">
            <div class="card-header">
              <h5 class="mb-0">ğŸ¢ Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù†Ø§Ø´Ø±ÙˆÙ†</h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-12">
                  <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø´Ø±</label>
                  <div id="publishersContainer">
                    <div class="input-group mb-2">
                      <input
                        type="text"
                        class="form-control"
                        name="publishers[]"
                        placeholder="Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø´Ø±"
                      />
                      <input
                        type="text"
                        class="form-control"
                        name="publisherPlace[]"
                        placeholder="Ù…ÙƒØ§Ù† Ø§Ù„Ù†Ø´Ø±"
                      />
                      <span class="input-group-text">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±</span>
                      <input
                        type="number"
                        class="form-control"
                        name="publisherDate[]"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ø·Ø¨Ø¹Ø©</label>
                  <input type="text" class="form-control" id="edition" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø±Ù‚Ù… ISBN</label>
                  <input type="text" class="form-control" id="isbn" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹</label>
                  <input type="text" class="form-control" id="depositNumber" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª</label>
                  <input
                    type="number"
                    class="form-control"
                    id="pagesCount"
                    min="1"
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ø³Ù„Ø³Ù„Ø©</label>
                  <input type="text" class="form-control" id="series" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡</label>
                  <input
                    type="number"
                    class="form-control"
                    id="parts"
                    min="1"
                  />
                </div>
                <div class="col-md-6">
                <label class="form-label">Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©</label>
                <input type="text" class="form-control" id="series" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡</label>
                <input type="number" class="form-control" id="parts" min="1" />
              </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 4: Supplier -->
        <div class="wizard-step" id="step4" style="display: none">
          <div class="card shadow-medium">
            <div class="card-header">
              <h5 class="mb-0">ğŸšš Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯</h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ²ÙˆÙŠØ¯</label>
                  <input type="date" class="form-control" id="supplyDate" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ²ÙˆÙŠØ¯</label>
                  <select
                    id="supplyMethod"
                    class="form-select"
                    onchange="togglePriceField()"
                  >
                    <option value="">Ø§Ø®ØªØ±...</option>
                    <option value="Ø´Ø±Ø§Ø¡">Ø´Ø±Ø§Ø¡</option>
                    <option value="Ø¥Ù‡Ø¯Ø§Ø¡">Ø¥Ù‡Ø¯Ø§Ø¡</option>
                    <option value="ØªØ¨Ø§Ø¯Ù„">ØªØ¨Ø§Ø¯Ù„</option>
                  </select>
                </div>
                <div class="col-md-6" id="priceField" style="display: none">
                <label class="form-label">Ø§Ù„Ø³Ø¹Ø±</label>
                <div class="input-group">
                  <input type="number" class="form-control" id="price" step="0.01" min="0" />
                  <select class="form-select" id="currency">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø©</option>
                    <option value="Ø´ÙŠÙƒÙ„">Ø´ÙŠÙ‚Ù„</option>
                    <option value="Ø¯ÙŠÙ†Ø§Ø±">Ø¯ÙŠÙ†Ø§Ø±</option>
                    <option value="Ø¯ÙˆÙ„Ø§Ø±">Ø¯ÙˆÙ„Ø§Ø±</option>
                  </select>
                </div>
              </div>
                <div class="col-md-6">
                  <label class="form-label">Ø§Ù„Ù‚Ø³Ù…</label>
                  <select id="department" class="form-select">
                    <option value="">Ø§Ø®ØªØ±...</option>
                    <option value="Ø£Ø¯Ø¨">Ø£Ø¯Ø¨</option>
                    <option value="ØªØ§Ø±ÙŠØ®">ØªØ§Ø±ÙŠØ®</option>
                    <option value="Ø¹Ù„ÙˆÙ…">Ø¹Ù„ÙˆÙ…</option>
                    <option value="ÙÙ„Ø³ÙØ©">ÙÙ„Ø³ÙØ©</option>
                    <option value="Ø¯ÙŠÙ†">Ø¯ÙŠÙ†</option>
                    <option value="Ø³ÙŠØ§Ø³Ø©">Ø³ÙŠØ§Ø³Ø©</option>
                    <option value="Ø§Ù‚ØªØµØ§Ø¯">Ø§Ù‚ØªØµØ§Ø¯</option>
                    <option value="Ø¬ØºØ±Ø§ÙÙŠØ§">Ø¬ØºØ±Ø§ÙÙŠØ§</option>
                    <option value="Ø£Ø·ÙØ§Ù„">Ø£Ø·ÙØ§Ù„</option>
                    <option value="Ù…Ø±Ø§Ø¬Ø¹">Ù…Ø±Ø§Ø¬Ø¹</option>
                  </select>
                  <button
                    class="btn btn-outline-secondary mt-1"
                    type="button"
                    onclick="addOption('department')"
                  >
                    +
                  </button>
                </div>
                <div class="col-12">
                  <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                  <textarea class="form-control" id="notes" rows="3"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 5: Review & Confirm -->
        <div class="wizard-step" id="step5" style="display: none"> 
            <div class="card shadow-medium"> <div class="card-header">
                 <h5 class="mb-0">âœ… Ø§Ù„Ø®Ø·ÙˆØ© 5: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯</h5>
                 </div>
                  <div class="card-body">
                     <div id="summaryContent">
                         <h6>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©:</h6> 
                         <div class="alert alert-info"> ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ 

                         </div> 
                         <div id="dataReview"></div> <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø³Ø®Ø© ÙˆØ§Ù„Ø¬Ø²Ø¡ --> 
                         <div class="mt-3 d-flex flex-wrap gap-2"> 
                            <button class="btn btn-outline-primary" type="button" onclick="duplicateBook('Ù†Ø³Ø®Ø©')" > Ø¥Ø¶Ø§ÙØ© Ù†Ø³Ø®Ø© </button> 
                            <button class="btn btn-outline-primary" type="button" onclick="duplicateBook('Ø¬Ø²Ø¡')" > Ø¥Ø¶Ø§ÙØ© Ø¬Ø²Ø¡ </button>
                         </div> <!-- ğŸ‘‡ Ù‚Ø³Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¶Ø§Ù --> 
                         <div class="mt-4 p-3 border rounded bg-light"> 
                            <h6 class="text-primary mb-3">ğŸ–¨ï¸ ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ø±ÙƒÙˆØ¯</h6> 
                            <input id="barcodeValue" type="text" class="form-control mb-3" placeholder="Ù…Ø«Ø§Ù„: 123456789" value="123456789" /> 
                            <div class="d-flex flex-wrap gap-2"> 
                                <button id="generate" class="btn btn-primary flex-fill"> Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ </button>
                                 <button id="download" class="btn btn-success flex-fill"> ØªØ­Ù…ÙŠÙ„ PNG </button> 
                                </div> 
                                <div id="barcodeArea" class="mt-3 text-center p-2 bg-white rounded">
                                     <svg id="barcode"></svg>
                                      <p id="note" class="text-muted small mt-2"></p>
                                     </div> </div> <!-- Ù†Ù‡Ø§ÙŠØ© Ù‚Ø³Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ -->
                                     </div> 
                                    </div>
                                 </div> 
                                </div>


        <!-- Navigation Buttons -->
        <div class="d-flex justify-content-between mt-4">
          <button
            type="button"
            class="btn btn-secondary"
            id="prevBtn"
            onclick="changeStep(-1)"
            style="display: none"
          >
            Ø§Ù„Ø³Ø§Ø¨Ù‚
          </button>
          <div class="ms-auto">
            <button
              type="button"
              class="btn btn-primary gradient-primary shadow-medium fw-bold px-4"
              id="nextBtn"
              onclick="changeStep(1)"
            >
              Ø§Ù„ØªØ§Ù„ÙŠ
            </button>
            <button
              type="submit"
              class="btn btn-success gradient-success shadow-medium fw-bold px-4"
              id="submitBtn"
              style="display: none"
            >
              Ø­ÙØ¸ Ø§Ù„ÙƒØªØ§Ø¨
            </button>
          </div>
        </div>
      </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ† ÙÙ‚Ø· Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    const currentPage = window.location.pathname.split("/").pop();
    const navLinks = document.querySelectorAll('.navbar-nav .nav-link');

    navLinks.forEach(link => {
        if(link.getAttribute('href') === currentPage){
            link.classList.add('active'); // ÙŠØ¸Ù„ Ø£Ø¨ÙŠØ¶ ØºØ§Ù…Ù‚ ÙÙ‚Ø· Ù„Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø§Ù„ÙŠ
        } else {
            link.classList.remove('active');
        }
    });
</script>

    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
     <script> 
     const input = document.getElementById("barcodeValue"); 
     const generateBtn = document.getElementById("generate"); 
     const downloadBtn = document.getElementById("download"); const svgElem = document.getElementById("barcode");
      const note = document.getElementById("note"); 
      function gen(value) 
      { if (!value) { note.textContent = "âš ï¸ Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© ØµØ­ÙŠØ­Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯."; 
      svgElem.innerHTML = ""; return; } JsBarcode(svgElem, value, 
      { format: "CODE128", lineColor: "#000", width: 2, height: 80, displayValue: true, margin: 8, }); 
      note.textContent = 'Ø§Ø¶ØºØ· "ØªØ­Ù…ÙŠÙ„ PNG" Ù„Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©.'; } gen(input.value); generateBtn.addEventListener("click", () => gen(input.value.trim()));
       downloadBtn.addEventListener("click", () => { const svgData = new XMLSerializer().serializeToString(svgElem); const svgBlob = new Blob([svgData],
        { type: "image/svg+xml;charset=utf-8", }); 
        const url = URL.createObjectURL(svgBlob);
         const img = new Image();
          img.onload = () => { const canvas = document.createElement("canvas");
           canvas.width = img.width; canvas.height = img.height; const ctx = canvas.getContext("2d"); 
           ctx.fillStyle = "#ffffff"; ctx.fillRect(0, 0, canvas.width, canvas.height); ctx.drawImage(img, 0, 0); 
           URL.revokeObjectURL(url); canvas.toBlob(function (blob) { const a = document.createElement("a");
            a.href = URL.createObjectURL(blob); a.download = (input.value || "barcode") + ".png"; document.body.appendChild(a); a.click(); a.remove(); }
            , "image/png"); }; img.onerror = () => { note.textContent = "âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­ÙˆÙŠÙ„. Ø¬Ø±Ù‘Ø¨ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ­Ø©."; }; img.src = url; }); 
            </script>

    <script>
      let currentStep = 1;
      const totalSteps = 5;
      const stepTitles = [
        "",
        "Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
        "Ø§Ù„Ù…Ø¤Ù„ÙÙˆÙ†",
        "Ø§Ù„Ù†Ø§Ø´Ø±ÙˆÙ†",
        "Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯",
        "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯",
      ];

      function changeStep(direction) {
        if (direction === 1 && !validateCurrentStep()) return;
        document.getElementById(`step${currentStep}`).style.display = "none";
        currentStep += direction;
        document.getElementById(`step${currentStep}`).style.display = "block";
        updateProgressBar();
        updateNavigationButtons();
        document.getElementById("stepTitle").textContent =
          stepTitles[currentStep];
        document.getElementById("currentStepNumber").textContent = currentStep;
        if (currentStep === totalSteps) showDataSummary();
      }

      function updateProgressBar() {
        document.getElementById("progressBar").style.width =
          (currentStep / totalSteps) * 100 + "%";
      }

      function updateNavigationButtons() {
        document.getElementById("prevBtn").style.display =
          currentStep === 1 ? "none" : "block";
        document.getElementById("nextBtn").style.display =
          currentStep === totalSteps ? "none" : "block";
        document.getElementById("submitBtn").style.display =
          currentStep === totalSteps ? "block" : "none";
      }

      function validateCurrentStep() {
        let isValid = true;
        const requiredFields = document
          .getElementById(`step${currentStep}`)
          .querySelectorAll("[required]");
        requiredFields.forEach((f) => {
          if (!f.value.trim()) {
            f.classList.add("is-invalid");
            isValid = false;
          } else {
            f.classList.remove("is-invalid");
          }
        });
        if (!isValid) alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©");
        return isValid;
      }

      function togglePriceField() {
        const val = document.getElementById("supplyMethod").value;
        const priceField = document.getElementById("priceField");
        if (val === "Ø´Ø±Ø§Ø¡") priceField.style.display = "block";
        else {
          priceField.style.display = "none";
          document.getElementById("price").value = "";
        }
      }

      function showDataSummary() {
        let html = "";
        const bookTitle = document.getElementById("bookTitle").value;
        const classificationCode =
          document.getElementById("classificationCode").value;
        const subTitles = Array.from(document.getElementsByName("subTitles[]"))
          .map((el, i) => {
            const type = document.getElementsByName("subTitleType[]")[i].value;
            return `${el.value} (${type})`;
          })
          .filter((v) => v.trim() !== "");

        const authors = Array.from(document.getElementsByName("authorName[]"))
          .map((el, i) => {
            const role = document.getElementsByName("authorRole[]")[i].value;
            const attr =
              document.getElementsByName("authorAttribute[]")[i].value;
            return `${el.value} - ${role} - ${attr}`;
          })
          .filter((v) => v.trim() !== "");

        const publishers = Array.from(
          document.getElementsByName("publishers[]")
        )
          .map((el, i) => {
            const place =
              document.getElementsByName("publisherPlace[]")[i].value;
            const date = document.getElementsByName("publisherDate[]")[i].value;
            return `${el.value} - ${place} - ${date}`;
          })
          .filter((v) => v.trim() !== "");

        html += `<h6>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</h6>`;
        html += `<p>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${bookTitle}<br>Ø±Ù…Ø² Ø§Ù„ØªØµÙ†ÙŠÙ: ${classificationCode}<br>Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ÙØ±Ø¹ÙŠØ©: ${subTitles.join(
          ", "
        )}</p>`;
        html += `<h6>Ø§Ù„Ù…Ø¤Ù„ÙÙˆÙ†:</h6><p>${authors.join("<br>")}</p>`;
        html += `<h6>Ø§Ù„Ù†Ø§Ø´Ø±ÙˆÙ†:</h6><p>${publishers.join("<br>")}</p>`;
        html += `<h6>Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯:</h6><p>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ²ÙˆÙŠØ¯: ${
          document.getElementById("supplyMethod").value
        }<br>`;
        html += `Ø§Ù„Ø³Ø¹Ø±: ${document.getElementById("price").value}<br>`;
        html += `Ø§Ù„Ù‚Ø³Ù…: ${document.getElementById("department").value}<br>`;
        html += `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${document.getElementById("notes").value}</p>`;

        document.getElementById("dataReview").innerHTML = html;
      }

      function duplicateBook(type) {
        const formData = new FormData(document.getElementById("wizardForm"));
        const queryParams = new URLSearchParams();
        formData.forEach((value, key) => queryParams.append(key, value));
        const pageUrl = `add-book.html?duplicate=${type}&${queryParams.toString()}`;
        window.open(pageUrl, "_blank");
      }

      function addOption(selectId) {
        const select = document.getElementById(selectId);
        const newOption = prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯:");
        if (newOption) {
          const option = document.createElement("option");
          option.value = newOption;
          option.textContent = newOption;
          select.appendChild(option);
        }
      }

      function addSubTitle() {
        const container = document.getElementById("subTitlesContainer");
        const div = document.createElement("div");
        div.className = "input-group mb-2";
        div.innerHTML = `
                <input type="text" class="form-control" name="subTitles[]" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ">
                <select class="form-select" name="subTitleType[]">
                    <option value="">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</option>
                    <option value="Ø±Ø¦ÙŠØ³ÙŠ">Ø±Ø¦ÙŠØ³ÙŠ</option>
                    <option value="ÙØ±Ø¹ÙŠ">ÙØ±Ø¹ÙŠ</option>
                    <option value="Ø³Ø§Ø¨Ù‚">Ø³Ø§Ø¨Ù‚</option>
                    <option value="Ø¨Ø¯ÙŠÙ„">Ø¨Ø¯ÙŠÙ„</option>
                    <option value="Ø¬Ø§Ù…Ø¹">Ø¬Ø§Ù…Ø¹</option>
                    <option value="Ù…ÙˆØ§Ø²ÙŠ">Ù…ÙˆØ§Ø²ÙŠ</option>
                </select>
                <button class="btn btn-outline-danger" type="button" onclick="this.parentNode.remove()">-</button>
            `;
        container.appendChild(div);
      }

      function addAuthor() {
        const container = document.getElementById("authorsContainer");
        const div = document.createElement("div");
        div.className = "input-group mb-2";
        div.innerHTML = `
                <select class="form-select" name="authorRole[]">
                    <option value="">Ø§Ø®ØªØ±...</option>
                    <option value="Ø±Ø¦ÙŠØ³ÙŠ">Ø±Ø¦ÙŠØ³ÙŠ</option>
                    <option value="Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø´Ø§Ø±Ùƒ">Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø´Ø§Ø±Ùƒ</option>
                    <option value="Ù…ØªØ±Ø¬Ù…">Ù…ØªØ±Ø¬Ù…</option>
                    <option value="Ù…Ø­Ù‚Ù‚">Ù…Ø­Ù‚Ù‚</option>
                    <option value="Ù…Ø¯Ù‚Ù‚">Ù…Ø¯Ù‚Ù‚</option>
                    <option value="Ù…Ø±Ø§Ø¬Ø¹">Ù…Ø±Ø§Ø¬Ø¹</option>
                    <option value="Ù…Ø­Ø±Ø±">Ù…Ø­Ø±Ø±</option>
                    <option value="Ù…Ø¹Ø¯">Ù…Ø¹Ø¯</option>
                    <option value="Ù…Ù‚Ø¯Ù‘Ù…">Ù…Ù‚Ø¯Ù‘Ù…</option>
                </select>
                <input type="text" class="form-control" name="authorName[]" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ù„Ù">
                <select class="form-select" name="authorAttribute[]">
                    <option value="">ØµÙØ© Ø§Ù„Ù…Ø¤Ù„Ù</option>
                    <option value="Ø´Ø®Øµ">Ø´Ø®Øµ</option>
                    <option value="Ù…Ù„ØªÙ‚Ù‰">Ù…Ù„ØªÙ‚Ù‰</option>
                    <option value="Ù‡ÙŠØ¦Ø©">Ù‡ÙŠØ¦Ø©</option>
                    <option value="Ø¹Ù†ÙˆØ§Ù†">Ø¹Ù†ÙˆØ§Ù†</option>
                </select>
                <button class="btn btn-outline-danger" type="button" onclick="this.parentNode.remove()">-</button>
            `;
        container.appendChild(div);
      }

      function addPublisher() {
        const container = document.getElementById("publishersContainer");
        const div = document.createElement("div");
        div.className = "input-group mb-2";
        div.innerHTML = `
                <input type="text" class="form-control" name="publishers[]" placeholder="Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø´Ø±">
                <input type="text" class="form-control" name="publisherPlace[]" placeholder="Ù…ÙƒØ§Ù† Ø§Ù„Ù†Ø´Ø±">
                <input type="date" class="form-control" name="publisherDate[]" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±">
                <button class="btn btn-outline-danger" type="button" onclick="this.parentNode.remove()">-</button>
            `;
        container.appendChild(div);
      }

      function handleFormSubmit(e) {
        e.preventDefault();
        alert("ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!");
        return false;
      }

      // Load data if opened for duplication
      window.addEventListener("DOMContentLoaded", () => {
        const params = new URLSearchParams(window.location.search);
        if (params.has("duplicate")) {
          for (const [key, value] of params.entries()) {
            const elements = document.getElementsByName(key);
            elements.forEach((el) => {
              if (el.tagName === "SELECT") el.value = value;
              else el.value = value;
            });
          }
        }
      });


    </script>
  </body>
</html>
